# üéØ Telegram –ë–æ—Ç –¥–ª—è –¢—Ä–∞–Ω—Å–µ—Ä—Ñ–∏–Ω–≥–∞

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ –¢—Ä–∞–Ω—Å–µ—Ä—Ñ–∏–Ω–≥–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **bot** - Telegram –±–æ—Ç –Ω–∞ Node.js + TypeScript + grammY
- **admin** - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–∞ React + TypeScript + Vite  
- **shared** - –û–±—â–∞—è —Å—Ö–µ–º–∞ –ë–î (Prisma) –∏ Express API –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Node.js, TypeScript, grammY, Express
- **Frontend**: React, TypeScript, Vite
- **Database**: PostgreSQL + Prisma ORM
- **Package Manager**: bun

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
trans-proj/
‚îú‚îÄ‚îÄ bot/                    # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types.ts        # –¢–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards.ts    # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ commands.ts     # –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers/       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ menu.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ settings.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ subscription.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ diary.ts
‚îÇ   ‚îî‚îÄ‚îÄ .env               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ admin/                  # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.tsx        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/            # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îÇ
‚îî‚îÄ‚îÄ shared/                 # –û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã
    ‚îú‚îÄ‚îÄ prisma/
    ‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma   # –°—Ö–µ–º–∞ –ë–î
    ‚îú‚îÄ‚îÄ api/                # API —Å–µ—Ä–≤–µ—Ä
    ‚îÇ   ‚îî‚îÄ‚îÄ src/
    ‚îÇ       ‚îú‚îÄ‚îÄ index.ts
    ‚îÇ       ‚îî‚îÄ‚îÄ routes/
    ‚îî‚îÄ‚îÄ db.ts              # Prisma –∫–ª–∏–µ–Ω—Ç
```

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
bun install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–ë–î `trans`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `postgres`, –ø–∞—Ä–æ–ª—å `3141`).
–ú–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
cd shared
bun run prisma:seed
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**bot/.env:**
```env
BOT_TOKEN=your_bot_token_here
DATABASE_URL="postgresql://postgres:3141@localhost:5432/trans?schema=public"
TELEGRAM_CHANNEL_URL=https://t.me/your_channel
TECH_SUPPORT_BOT=@your_support_bot
```

**shared/api/.env:**
```env
DATABASE_URL="postgresql://postgres:3141@localhost:5432/trans?schema=public"
PORT=3001
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã):**
```bash
./start-all.sh
```

**–í—Ä—É—á–Ω—É—é (–≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö):**
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: API —Å–µ—Ä–≤–µ—Ä
cd shared/api && bun run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Telegram –±–æ—Ç  
cd bot && bun run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
cd admin && bun run dev
```

–ì–æ—Ç–æ–≤–æ! 
- üìç –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://localhost:3000
- üìç API: http://localhost:3001

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–æ—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Telegram. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/menu` - –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/help` - –°–ø—Ä–∞–≤–∫–∞
- `/add_note [–Ω–æ–º–µ—Ä] [—Ç–µ–∫—Å—Ç]` - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É –≤ –¥–Ω–µ–≤–Ω–∏–∫

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- üì¢ –ö–∞–Ω–∞–ª - —Å—Å—ã–ª–∫–∞ –Ω–∞ Telegram –∫–∞–Ω–∞–ª
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏, –ø–∞—Ä–æ–ª—è, –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã
- üíé –ü–æ–¥–ø–∏—Å–∫–∞ - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
- üÜò –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ - —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- üìî –î–Ω–µ–≤–Ω–∏–∫ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π - –∑–∞–º–µ—Ç–∫–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –¢—Ä–∞–Ω—Å–µ—Ä—Ñ–∏–Ω–≥–∞

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**
- **–î–∞—à–±–æ—Ä–¥** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–ü–æ–¥–ø–∏—Å–∫–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- **–°–æ–æ–±—â–µ–Ω–∏—è** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–ª–∏–∫ –±–æ—Ç–∞
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã

### API

API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3001/api`

**Endpoints:**
- `GET /api/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /api/users/:id` - –¥–µ—Ç–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/subscriptions` - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
- `GET /api/messages` - —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞
- `GET /api/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- `GET /api/diary` - –∑–∞–ø–∏—Å–∏ –¥–Ω–µ–≤–Ω–∏–∫–∞

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

- **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **subscriptions** - –ø–æ–¥–ø–∏—Å–∫–∏
- **diary_entries** - –∑–∞–ø–∏—Å–∏ –¥–Ω–µ–≤–Ω–∏–∫–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
- **introduction_data** - –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
- **bot_messages** - —Ä–µ–ø–ª–∏–∫–∏ –±–æ—Ç–∞
- **settings** - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –†–∞–±–æ—Ç–∞ —Å –ë–î:

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
cd shared
bunx prisma migrate dev

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
bunx prisma generate

# –û—Ç–∫—Ä—ã—Ç—å Prisma Studio (GUI –¥–ª—è –ë–î)
bunx prisma studio
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ dev —Ä–µ–∂–∏–º–µ
bun run bot:dev

# –ó–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω–∫–∏ –≤ dev —Ä–µ–∂–∏–º–µ
bun run admin:dev

# –ó–∞–ø—É—Å–∫ API –≤ dev —Ä–µ–∂–∏–º–µ
bun run api:dev

# –°–±–æ—Ä–∫–∞ –∞–¥–º–∏–Ω–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
bun run admin:build

# –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
bun run prisma:migrate

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
bun run prisma:generate

# Prisma Studio
bun run prisma:studio
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [SETUP.md](SETUP.md) - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- [COMMANDS.md](COMMANDS.md) - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º
- [–¢–ï–•–ù–û–õ–û–ì–ò–ò.md](–¢–ï–•–ù–û–õ–û–ì–ò–ò.md) - –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–≤–æ–¥–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É—Ç—Ä–µ–Ω–Ω–∏–µ/–≤–µ—á–µ—Ä–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å —É—á—ë—Ç–æ–º timezone
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∏–º—è, –ø–∞—Ä–æ–ª—å, –≤—Ä–µ–º—è)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ trialDaysUsed
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –±–æ—Ç–æ–º —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

